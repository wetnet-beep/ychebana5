<!-- –§–∏–∫—Å –¥–ª—è favicon -->
<link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üéì</text></svg>">

<!-- –û—Ç–∫–ª—é—á–µ–Ω–∏–µ Service Worker -->
<script>
// –û—Ç–∫–ª—é—á–∞–µ–º Service Worker –µ—Å–ª–∏ –Ω–µ—Ç —Ñ–∞–π–ª–∞
if (navigator.serviceWorker && !window.location.hostname.includes('localhost')) {
    navigator.serviceWorker.getRegistrations().then(function(registrations) {
        for(let registration of registrations) {
            registration.unregister();
        }
    });
}
</script>
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–£—á–µ–±–∞–ù–∞5+ - –†–µ—à–∞–ª–∫–∞ –∏ –ì–î–ó</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="manifest" href="manifest.json">
</head>
<body class="light-theme">
    <div id="notification" class="notification"></div>
    <div id="loader" class="loader">
        <div class="spinner"></div>
    </div>
    
    <div class="container">
        <header class="header">
            <div class="logo">
                <h1><i class="fas fa-graduation-cap"></i> –£—á–µ–±–∞–ù–∞5+</h1>
                <p>–û—Ñ—Ñ–ª–∞–π–Ω —Ä–µ—à–∞–ª–∫–∞ –∏ –ø–æ–º–æ—â–Ω–∏–∫ –≤ —É—á–µ–±–µ</p>
            </div>
            <div class="header-controls">
                <button id="themeToggle" class="btn btn-icon" title="–°–º–µ–Ω–∏—Ç—å —Ç–µ–º—É">
                    <i class="fas fa-moon"></i>
                </button>
                <div id="keyStatus" class="key-status inactive">
                    <i class="fas fa-key"></i>
                    <span>–ö–ª—é—á –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω</span>
                </div>
                <button id="menuToggle" class="btn btn-icon">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </header>
        
        <nav id="mainNav" class="nav">
            <ul>
                <li><a href="#solver" class="nav-link active"><i class="fas fa-calculator"></i> –†–µ—à–∞–ª–∫–∞</a></li>
                <li><a href="#column-math" class="nav-link"><i class="fas fa-divide"></i> –°—Ç–æ–ª–±–∏–∫–æ–º</a></li>
                <li><a href="#notes" class="nav-link"><i class="fas fa-sticky-note"></i> –ü–∞–º—è—Ç–∫–∏</a></li>
                <li><a href="#key" class="nav-link"><i class="fas fa-key"></i> –ê–∫—Ç–∏–≤–∞—Ü–∏—è</a></li>
                <li><a href="#buy" class="nav-link"><i class="fas fa-shopping-cart"></i> –ö—É–ø–∏—Ç—å –∫–ª—é—á</a></li>
            </ul>
        </nav>
        
        <main class="main-content">
            <section id="solver" class="section active">
                <h2><i class="fas fa-robot"></i> –£–º–Ω–∞—è —Ä–µ—à–∞–ª–∫–∞ —É—Ä–∞–≤–Ω–µ–Ω–∏–π</h2>
                <div class="solver-container">
                    <div class="input-group">
                        <input type="text" id="equationInput" placeholder="–í–≤–µ–¥–∏—Ç–µ —É—Ä–∞–≤–Ω–µ–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä: 2x+5=15 –∏–ª–∏ 3x=12)" class="equation-input">
                        <button id="solveBtn" class="btn btn-primary">
                            <i class="fas fa-play"></i> –†–µ—à–∏—Ç—å
                        </button>
                    </div>
                    <div class="variables-info">
                        <p><strong>–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç:</strong> –ø—Ä–æ—Å—Ç—ã–µ –ª–∏–Ω–µ–π–Ω—ã–µ —É—Ä–∞–≤–Ω–µ–Ω–∏—è —Å x</p>
                        <p><strong>–ü—Ä–∏–º–µ—Ä—ã:</strong> x+5=10, 2x=8, 3x-2=13, x/4=3</p>
                    </div>
                    <div id="solutionSteps" class="solution-steps">
                        <h3>–®–∞–≥–∏ —Ä–µ—à–µ–Ω–∏—è:</h3>
                        <div id="stepsContainer" class="steps-container"></div>
                    </div>
                    <div id="solutionResult" class="solution-result">
                        <h3>–û—Ç–≤–µ—Ç:</h3>
                        <div id="resultContainer" class="result-container"></div>
                    </div>
                </div>
            </section>
            
            <section id="column-math" class="section">
                <h2><i class="fas fa-columns"></i> –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –≤ —Å—Ç–æ–ª–±–∏–∫</h2>
                <div class="column-math-container">
                    <div class="operation-selector">
                        <button class="btn operation-btn active" data-op="+">–°–ª–æ–∂–µ–Ω–∏–µ</button>
                        <button class="btn operation-btn" data-op="-">–í—ã—á–∏—Ç–∞–Ω–∏–µ</button>
                        <button class="btn operation-btn" data-op="√ó">–£–º–Ω–æ–∂–µ–Ω–∏–µ</button>
                        <button class="btn operation-btn" data-op="/">–î–µ–ª–µ–Ω–∏–µ</button>
                    </div>
                    <div class="numbers-input">
                        <input type="number" id="num1" placeholder="–ü–µ—Ä–≤–æ–µ —á–∏—Å–ª–æ" class="number-input">
                        <div class="operation-display" id="opDisplay">+</div>
                        <input type="number" id="num2" placeholder="–í—Ç–æ—Ä–æ–µ —á–∏—Å–ª–æ" class="number-input">
                        <button id="calculateColumn" class="btn btn-primary">
                            <i class="fas fa-calculator"></i> –ü–æ—Å—á–∏—Ç–∞—Ç—å
                        </button>
                    </div>
                    <div id="columnResult" class="column-result"></div>
                </div>
            </section>
            
            <section id="notes" class="section">
                <h2><i class="fas fa-images"></i> –ú–æ–∏ –ø–∞–º—è—Ç–∫–∏</h2>
                <div class="notes-container">
                    <div class="upload-area" id="uploadArea">
                        <i class="fas fa-cloud-upload-alt fa-3x"></i>
                        <p>–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Å—é–¥–∞ —Ñ–æ—Ç–æ –∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏</p>
                        <p class="small">(–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ, —Ñ–æ—Ä–º—É–ª—ã, –∫–æ–Ω—Å–ø–µ–∫—Ç—ã)</p>
                        <input type="file" id="photoUpload" accept="image/*" multiple style="display: none;">
                        <button id="uploadBtn" class="btn btn-secondary">
                            <i class="fas fa-upload"></i> –í—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª—ã
                        </button>
                    </div>
                    <div id="gallery" class="gallery"></div>
                </div>
            </section>
            
            <section id="key" class="section">
                <h2><i class="fas fa-key"></i> –ê–∫—Ç–∏–≤–∞—Ü–∏—è –∫–ª—é—á–∞ –¥–æ—Å—Ç—É–ø–∞</h2>
                <div class="key-container">
                    <div class="key-info">
                        <div class="key-timer" id="keyTimer" style="display: none;">
                            <h3>–î–æ—Å—Ç—É–ø –∞–∫—Ç–∏–≤–µ–Ω: <span id="daysLeft">0</span> –¥–Ω–µ–π</h3>
                            <div class="progress-bar">
                                <div id="progressFill" class="progress-fill"></div>
                            </div>
                            <p id="expiryDate">–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è: –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ</p>
                        </div>
                        <div class="key-input-group">
                            <input type="text" id="keyInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–ª—é—á (–Ω–∞–ø—Ä–∏–º–µ—Ä: UCH-NA5-SUN-723)" class="key-input">
                            <button id="activateKey" class="btn btn-success">
                                <i class="fas fa-check"></i> –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å
                            </button>
                        </div>
                        <div class="key-features">
                            <h4>–ß—Ç–æ –¥–∞–µ—Ç –∫–ª—é—á:</h4>
                            <ul>
                                <li><i class="fas fa-check-circle"></i> –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —Ä–µ—à–∞–ª–∫–µ</li>
                                <li><i class="fas fa-check-circle"></i> –ü–æ–¥—Ä–æ–±–Ω—ã–µ —à–∞–≥–∏ —Ä–µ—à–µ–Ω–∏—è</li>
                                <li><i class="fas fa-check-circle"></i> –û—Ñ—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º</li>
                                <li><i class="fas fa-check-circle"></i> –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞</li>
                                <li><i class="fas fa-check-circle"></i> –î–æ 50 —Ñ–æ—Ç–æ –≤ –ø–∞–º—è—Ç–∫–∞—Ö</li>
                                <li><i class="fas fa-check-circle"></i> 1 —Ä–∞–∑ –∫–ª—é—á –±–µ—Å–ø–ª–∞—Ç–Ω–æ!</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>
            
            <section id="buy" class="section">
                <h2><i class="fas fa-shopping-cart"></i> –ü–æ–ª—É—á–∏—Ç—å –∫–ª—é—á –¥–æ—Å—Ç—É–ø–∞</h2>
                <div class="buy-container">
                    <div class="buy-card premium">
                        <h3><i class="fas fa-crown"></i> –ü—Ä–µ–º–∏—É–º –¥–æ—Å—Ç—É–ø</h3>
                        <div class="price">10 –¥–Ω–µ–π</div>
                        <div class="features">
                            <p><i class="fas fa-star"></i> –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã</p>
                            <p><i class="fas fa-star"></i> –ü–æ–¥—Ä–æ–±–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è —É—Ä–∞–≤–Ω–µ–Ω–∏–π</p>
                            <p><i class="fas fa-star"></i> –ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –≤ —Å—Ç–æ–ª–±–∏–∫</p>
                            <p><i class="fas fa-star"></i> –†–∞–±–æ—Ç–∞ –æ—Ñ—Ñ–ª–∞–π–Ω</p>
                            <p><i class="fas fa-star"></i> –î–æ 50 —Ñ–æ—Ç–æ –≤ –ø–∞–º—è—Ç–∫–∞—Ö</p>
                            <p><i class="fas fa-star"></i> –°–∫–∏–¥–∫–∞ 50% –¥–æ 01.05.2026</p>
                            <p><i class="fas fa-star"></i> –ü–æ–º–æ–≥–∞–π—Ç–µ –Ω–∞–º –∏ –≥–æ–≤–æ—Ä–∏—Ç–µ —á—Ç–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å</p>
                        </div>
                        </div>
                        <div class="contacts">
                            <h4><i class="fas fa-headset"></i> –°–≤—è–∂–∏—Ç–µ—Å—å –¥–ª—è –ø–æ–∫—É–ø–∫–∏:</h4>
                            <a href="https://t.me/west_next" class="contact-link telegram" target="_blank">
                                <i class="fab fa-telegram"></i>
                                Telegram: @west_next
                            </a>
                            <a href="https://wa.me/79695356936" class="contact-link whatsapp" target="_blank">
                                <i class="fab fa-whatsapp"></i>
                                WhatsApp: +7 (969) 535-69-36
                            </a>
                            <div class="phone-display">
                                <i class="fas fa-phone"></i>
                                +7 (969) 535-69-36
                            </div>
                        </div>
                        <div class="coming-soon">
                            <h4><i class="fas fa-bolt"></i> –°–∫–æ—Ä–æ –≤ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏:</h4>
                            <p class="highlight">–ì–î–ó –æ—Ñ—Ñ–ª–∞–π–Ω –±–∞–∑–∞!</p>
                            <p>–¢—ã—Å—è—á–∏ –≥–æ—Ç–æ–≤—ã—Ö –¥–æ–º–∞—à–Ω–∏—Ö –∑–∞–¥–∞–Ω–∏–π –≤—Å–µ–≥–¥–∞ –ø–æ–¥ —Ä—É–∫–æ–π</p>
                        </div>
                    </div>
                </div>
            </section>
        </main>
        
        <footer class="footer">
            <p>¬© 2024 –£—á–µ–±–∞–ù–∞5+. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
            <p class="small">–†–∞–±–æ—Ç–∞–µ—Ç –æ—Ñ—Ñ–ª–∞–π–Ω | PWA –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</p>
        </footer>
    </div>
    
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º —Å–∫—Ä–∏–ø—Ç—ã –≤ –∫–æ–Ω—Ü–µ body -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/11.7.0/math.min.js"></script>
    <script src="app.js"></script>
    
    <script>
        // –§–∏–∫—Å –¥–ª—è –Ø–Ω–¥–µ–∫—Å.–ë—Ä–∞—É–∑–µ—Ä–∞
        if (navigator.userAgent.includes('YaBrowser')) {
            console.log('–Ø–Ω–¥–µ–∫—Å.–ë—Ä–∞—É–∑–µ—Ä –æ–±–Ω–∞—Ä—É–∂–µ–Ω');
            
            if (navigator.serviceWorker) {
                navigator.serviceWorker.getRegistrations().then(function(registrations) {
                    registrations.forEach(function(registration) {
                        registration.unregister();
                    });
                });
            }
        }
        
        // –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è Service Worker
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js').then(registration => {
                    console.log('ServiceWorker –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω:', registration);
                }).catch(error => {
                    console.log('ServiceWorker –æ—à–∏–±–∫–∞:', error);
                });
            });
        }
    </script>
</body>
</html>
